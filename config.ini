# Raspberry Pi Audio Recorder Configuration

[audio]
# ALSA device name (use 'arecord -l' to list available devices)
device = plughw:1,0

# Audio format settings
sample_rate = 16000
channels = 1

# Compression settings
# Supported formats: wav (uncompressed), flac, alac, ape
# Note: compressed formats require appropriate SoX support
compression_format = flac

# Voice Activity Detection (Speech detection)
# Set to false to use RMS-only detection (faster but less accurate)
use_vad = true

# VAD aggressiveness level: 0=lenient, 1=low-bitrate, 2=aggressive, 3=very-aggressive
# Higher values filter more non-speech sounds but may miss quiet speech
vad_aggressiveness = 1

# VAD frame duration in milliseconds: 10, 20, or 30
# Smaller values are more responsive but use slightly more CPU
vad_frame_duration_ms = 30

# Noise floor threshold (RMS pre-filter, applied before VAD)
# Audio below this level is considered absolute silence (no VAD processing)
noise_floor_threshold = 2.0%%

# Fallback silence threshold (used if VAD disabled or unavailable)
silence_threshold = 5%%

# Duration of continuous silence/non-speech before stopping recording
# Only applies after minimum duration is reached
silence_duration_seconds = 15.0

[recording]
# Maximum intended duration per segment (minutes)
max_duration_minutes = 120

# Minimum recording duration (seconds)
# Silence detection is disabled until this duration is reached
# After minimum duration, silence detection activates to end recording
# This ensures recordings are at least this long and filters out brief noises
min_duration_seconds = 45

# Overlap duration between segments (minutes)
overlap_minutes = 2

[storage]
# Directory to store recordings
directory = /hddzfs/raspi-audio
# Customize the filename prefix for each recording instance
# Examples: "kitchen", "office", "meeting_room", "raspi01"
filename_prefix = krusty_office

[logging]
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
level = DEBUG
